<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style/default.css" />
    <link rel="stylesheet" href="../style/contact.css" />

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
      (function () {
        emailjs.init('ry63wI6Zmvt7B6nDD');
      })();
    </script>
    <script src="../script/mail.js"></script>

    <title>Contact</title>
  </head>
  <body>
    <script src="../script/s_word.js"></script>
    <div id="background">
      <script src="../../script/index_bg.js"></script>
    </div>
    <nav>
      <div class="nav-content">
        <div class="nav-content-left">
          <!-- <div class="mode-switcher">
            <div class="mode-indicator indicator-dark on">
              <img width="20" src="../img/svg/moon-svgrepo-com.svg" alt="" />
            </div>
            <div class="mode-indicator indicator-light off">
              <img width="20" src="../img/svg/sun-svgrepo-com.svg" alt="" />
            </div>
            <script src="../script/mode_switcher.js"></script>
          </div> -->

          <h1>Contact</h1>
        </div>
        <ul class="navlist">
          <li><a class="navlink" href="../index.html">Home</a></li>
          <li>
            <a class="navlink" href="../pages/experiences.html">Experiences</a>
          </li>
          <li><a class="navlink" href="../pages/hobbies.html">Hobbies</a></li>
          <li><a class="navlink" href="../pages/projects.html">Projects</a></li>
          <li>
            <a class="navlink" href="../pages/contact.html">Contact</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="second-nav">
      <div class="menu-btn">
        <div class="menu-btn__burger"></div>
      </div>
      <script src="../script/nav.js"></script>
      <ul class="navlist">
        <li><a class="navlink" href="../index.html">Home</a></li>
        <li>
          <a class="navlink" href="../pages/experiences.html">Experiences</a>
        </li>
        <li><a class="navlink" href="../pages/hobbies.html">Hobbies</a></li>
        <li><a class="navlink" href="../pages/projects.html">Projects</a></li>
        <li>
          <a class="navlink" href="../pages/contact.html">Contact</a>
        </li>
      </ul>
      <div class="nav-circle-bg"></div>
    </div>

    <main>
      <section class="contactinfo top-section">
        <h1>Contact</h1>
        <ul class="links">
          <li>
            <a href="tel:+43-677-63160411"
              ><img
                height="16"
                src="../img/contact/telephone-fill-svgrepo-com.svg"
                alt="Phone Icon" />
              +43 677 63160411</a
            >
          </li>
          <li>
            <a href="mailto:j.huemer-fistelberger@students.htl-leonding.ac.at">
              <img
                height="16"
                src="../img/contact/mail-filled-svgrepo-com.svg"
                alt="Mail Icon" />
              j.huemer-fistelberger@students.htl-leonding.ac.at</a
            >
          </li>
          <li>
            <a href="mailto:jakobhuemer2.0@gmail.com"
              ><img
                height="16"
                src="../img/contact/mail-filled-svgrepo-com.svg"
                alt="Mail Icon" />
              jakobhuemer2.0@gmail.com</a
            >
          </li>
        </ul>
      </section>

      <section class="email">
        <h1>Send me an E-Mail</h1>
        <div class="container">
          <form onsubmit="sendEmail(); reset(); return false;">
            <div class="textsection">
              <input type="text" id="name" placeholder="Your Name" required />
              <input
                type="email"
                name="email"
                id="email"
                placeholder="Your E-Mail"
                required
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" />
              <textarea
                id="message"
                name="message"
                rows="4"
                placeholder="Message"
                required></textarea>
            </div>
            <div>
              <!-- onclick="sendMail()" -->
              <button id="submit" type="submit">Send</button>
            </div>
          </form>
        </div>
        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <script>
          // function sendEail() {
          //   Email.send({
          //     Host: 'smtp.elasticemail.com',
          //     Username: 'jakobhuemer2.0@gmail.com',
          //     Password: 'jakobfistel2905',
          //     To: 'jakobhuemer2.0@gmail.com',
          //     From: document.getElementById('email').value,
          //     Subject:
          //       'New E-Mail from ' + document.getElementById('name').value,
          //     Body: 'And this is the body',
          //   }).then((message) => alert(message));
          // }

          function sendEmail() {
            if (
              document.getElementById('name').value == '' ||
              document.getElementById('email').value == '' ||
              document.getElementById('message').value == ''
            ) {
              return;
            }
            pattern =
              /^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;

            if (pattern.test(document.getElementById('email').value)) {
              return;
            }

            var params = {
              name: document.getElementById('name').value,
              email: document.getElementById('email').value,
              message: document.getElementById('message').value,
            };

            // alert(document.getElementById('email').value);
            // console.log(params);
            // alert(params);

            const serviceID = 'service_w9sem2z';
            const templateID = 'template_ih18w3o';
            emailjs
              .send(serviceID, templateID, params)
              .then((res) => {
                // document.getElementById('name').value = '';
                // document.getElementById('email').value = '';
                // document.getElementById('message').value = '';
                // alert('Message sent successfully!');
                console.log(res);
              })
              .catch((err) => {
                console.log(err);
                // alert('Message failed to send.');
              });

            return;
          }
        </script>
      </section>

      <section class="location">
        <h1>My location</h1>

        <iframe
          class="map"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9537.422373343948!2d14.12937158830002!3d47.8715767607968!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4773dfc1733fdbbb%3A0x8b92afbaaa91c25d!2sEisbach%208%2C%204563%20Eisbach!5e0!3m2!1sde!2sat!4v1672419412656!5m2!1sde!2sat"
          height="450"
          style="border: 0"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </section>
    </main>
  </body>
</html>
